[tox]
envlist = py27,py33,py34,py35,py36,doc,check

[testenv]
deps =
    mock
    pytest
commands =
    {posargs:py.test} --doctest-modules tests/ markdown_extra/

[testenv:doc]
deps =
    sphinx
commands =
    sphinx-build -b html -W -q -N docs {envtmpdir}/html

[testenv:check]
deps =
    docutils
commands =
    python setup.py check --metadata --restructuredtext --strict

[pytest]
doctest_optionflags= NORMALIZE_WHITESPACE IGNORE_EXCEPTION_DETAIL ALLOW_UNICODE
